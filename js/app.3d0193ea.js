(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0b0a":function(t,e,n){"use strict";var a=n("2002"),i=n.n(a);i.a},"0cb3":function(t,e,n){},"0eb0":function(t,e,n){"use strict";var a=n("92e4"),i=n.n(a);i.a},2002:function(t,e,n){},"2def":function(t,e,n){"use strict";var a=n("0cb3"),i=n.n(a);i.a},4462:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TheHeader"),n("main",[n("router-view",{attrs:{user:t.user}})],1),n("TheFooter")],1)},r=[],o=(n("6b54"),n("f5df"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",{staticClass:"header-title"},[n("router-link",{attrs:{to:"/"}},[t._v("sake-pool")])],1)])}),s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"nav-drawer"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.navCb,expression:"navCb"}],staticClass:"nav-unshown",attrs:{id:"nav-input",type:"checkbox"},domProps:{checked:Array.isArray(t.navCb)?t._i(t.navCb,null)>-1:t.navCb},on:{change:function(e){var n=t.navCb,a=e.target,i=!!a.checked;if(Array.isArray(n)){var r=null,o=t._i(n,r);a.checked?o<0&&(t.navCb=n.concat([r])):o>-1&&(t.navCb=n.slice(0,o).concat(n.slice(o+1)))}else t.navCb=i}}}),t._m(0),n("label",{staticClass:"nav-unshown",attrs:{id:"nav-close",for:"nav-input"}}),n("div",{attrs:{id:"nav-content"}},[n("div",{staticClass:"content-main"},[n("ul",{staticClass:"nav-links",on:{click:t.toggleNav}},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("Pool")])],1),n("li",[n("router-link",{attrs:{to:"/scan"}},[t._v("Scan")])],1),n("li",[n("router-link",{attrs:{to:"/history"}},[t._v("History")])],1)])])])])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{id:"nav-open",for:"nav-input"}},[n("span")])}],l={name:"hamburger-nav",data:function(){return{navCb:!1}},methods:{toggleNav:function(){this.navCb=!this.navCb}}},d=l,h=(n("d16d"),n("2877")),f=Object(h["a"])(d,c,u,!1,null,null,null),v=f.exports,m={name:"the-header",components:{HamburgerNav:v}},p=m,b=(n("0b0a"),Object(h["a"])(p,o,s,!1,null,null,null)),g=b.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("router-link",{attrs:{to:"/"}},[n("div",[t._v("pool")])]),n("router-link",{staticClass:"scan-button",attrs:{to:"/scan"}},[n("div",[t._v("scan")])]),n("router-link",{attrs:{to:"/history"}},[n("div",[t._v("history")])])],1)},w=[],y={name:"the-footer"},x=y,C=(n("2def"),Object(h["a"])(x,_,w,!1,null,null,null)),O=C.exports,k={name:"app",components:{TheHeader:g,TheFooter:O},mounted:function(){this.user=Math.random().toString(36).slice(-8)},data:function(){return{user:""}}},j=k,E=(n("5c0b"),Object(h["a"])(j,i,r,!1,null,null,null)),S=E.exports,P=n("8c4f"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WebCodeCamJs",{attrs:{user:t.user}})],1)},D=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("canvas",{attrs:{width:"320",height:"240",id:"picture"}}),n("input",{attrs:{id:"Take-Picture",type:"file",accept:"image/*;capture=camera"}}),n("p",{attrs:{id:"textbit"}},[t._v("result: "+t._s(t.decoded))]),t.loading?n("LoadingBox"):t._e()],1)},$=[],J=n("bc3a"),B=n.n(J),L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader-bg"},[n("div",{staticClass:"loader"},[t._v("Loading...")])])}],M={name:"loading-box"},R=M,W=(n("0eb0"),Object(h["a"])(R,L,I,!1,null,null,null)),F=W.exports,H={name:"WebCodeCamJs",components:{LoadingBox:F},props:{user:String},mounted:function(){var t=document.querySelector("#Take-Picture"),e=document.createElement("img"),n=this,a=document.getElementById("picture");console.log(a);var i=a.getContext("2d");JOB.Init(),JOB.SetImageCallback((function(t){if(t.length>0){for(var e=[],a=0;a<t.length;a++)e.push(t[a].Format+" : "+t[a].Value),0===t[a].Value[0]&&(t[a].Value=t[a].Value.slice()),n.code=t[a].Value;n.decoded=e.join("<br />"),n.upload()}else 0===t.length&&(n.decoded="Decoding failed.")})),JOB.PostOrientation=!0,JOB.OrientationCallback=function(t){a.width=t.width,a.height=t.height;for(var e=i.getImageData(0,0,a.width,a.height),n=0;n<e.data.length;n++)e.data[n]=t.data[n];i.putImageData(e,0,0)},JOB.SwitchLocalizationFeedback(!0),JOB.SetLocalizationCallback((function(t){i.beginPath(),i.lineWIdth="2",i.strokeStyle="red";for(var e=0;e<t.length;e++)i.rect(t[e].x,t[e].y,t[e].width,t[e].height);i.stroke()})),t&&e&&(t.onchange=function(t){var a=t.target.files;if(a&&a.length>0){var i=a[0];try{var r=window.URL||window.webkitURL;e.onload=function(t){n.decoded="",JOB.DecodeImage(e),r.revokeObjectURL(e.src)},e.src=r.createObjectURL(i)}catch(s){try{var o=new FileReader;o.onload=function(t){e.onload=function(t){n.decoded="",JOB.DecodeImage(e)},e.src=t.target.result},o.readAsDataURL(i)}catch(s){n.decoded="Neither createObjectURL or FileReader are supported"}}}})},data:function(){return{decoded:"none",result:{},code:"",loading:!1}},methods:{upload:function(){var t=this;this.loading=!0,B.a.get("https://beer.rhenium.jp/users/".concat(this.user,"/drink/").concat(this.code)).then((function(e){t.result=e.data,t.loading=!1}))}}},V=H,N=(n("71f4"),Object(h["a"])(V,T,$,!1,null,null,null)),U=N.exports,z={name:"scan",props:{user:String},components:{WebCodeCamJs:U}},q=z,G=Object(h["a"])(q,A,D,!1,null,null,null),K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PoolView",{attrs:{amount:t.amount}})],1)},X=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n    今月飲んだアルコール量: "+t._s(t.amount)+"ml\n    "),n("div",{staticClass:"case"},[t._m(0),n("div",{staticClass:"beer",style:t.style})])])},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"canvas-container"}},[n("canvas",{attrs:{id:"sineCanvas",width:"800",height:"300"}})])}],tt=(n("6c7b"),n("c5f6"),{name:"pool-view",props:{amount:Number},data:function(){return{drawData:{seconds:0,t:0},canvas:"",context:"",canvas2:"",context2:"",height:"",width:"",xAxis:"",yAxis:"",unit:100}},mounted:function(){this.init()},computed:{style:function(){return{height:"".concat(this.amount/2e3,"%"),width:"100%",background:"linear-gradient(180deg, #F6F513, #ECE61A)"}}},methods:{init:function(){this.canvas=document.getElementById("sineCanvas"),this.canvas.width=document.documentElement.clientWidth,this.canvas.height=document.documentElement.clientHeight-80,this.context=this.canvas.getContext("2d"),this.height=this.canvas.height,this.width=this.canvas.width,this.xAxis=Math.floor(this.height*(2e3-this.amount)/2e3),this.yAxis=0,this.draw()},draw:function(){this.context.clearRect(0,0,this.width,this.height),this.drawWave("#10c2cd",.3,3,0),this.drawWave("#43c0e4",.4,2,250),this.drawWave("#1d82b6",.2,1.6,100),this.drawData.seconds=this.drawData.seconds+.014,this.drawData.t=this.drawData.seconds*Math.PI,setTimeout(this.draw,35)},drawWave:function(t,e,n,a){this.context.fillStyle=t,this.context.globalAlpha=e,this.context.beginPath(),this.drawSine(this.drawData.t/.5,n,a),this.context.lineTo(this.width+10,this.height),this.context.lineTo(0,this.height),this.context.closePath(),this.context.fill()},drawSine:function(t,e,n){var a=t,i=Math.sin(a)/e;this.context.moveTo(this.yAxis,this.unit*i+this.xAxis);for(var r=this.yAxis;r<=this.width+10;r+=10)a=t+(-this.yAxis+r)/this.unit/e,i=Math.sin(a-n)/10,this.context.lineTo(r,this.unit*i+this.xAxis)}}}),et=tt,nt=(n("d4fd"),Object(h["a"])(et,Y,Z,!1,null,null,null)),at=nt.exports,it={name:"pool",props:{user:String},components:{PoolView:at},data:function(){return{amount:0}},mounted:function(){var t=this,e=new Date;e.setDate(1),B.a.get("https://beer.rhenium.jp/users/".concat(this.user,"/?since=").concat(e.getTime())).then((function(e){t.amount=e.data.sumAlc}))}},rt=it,ot=Object(h["a"])(rt,Q,X,!1,null,null,null),st=ot.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  history page.\n  "),n("ul",t._l(t.histories,(function(t,e){return n("li",{key:e},[n("HistoryCard",{attrs:{history:t}})],1)})),0)])},ut=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"name"},[t._v(t._s(t.history.name))]),n("div",{staticClass:"row"},[n("div",{staticClass:"amount"},[t._v(t._s(t.history.ml)+"ml")]),n("div",{staticClass:"alc"},[t._v(t._s(t.history.alc)+"%")])]),n("div",{staticClass:"date"},[t._v(t._s(t.date))])])},dt=[],ht={name:"history-card",props:{history:Object},data:function(){return{date:new Date}},mounted:function(){this.date=new Date(this.history.time).toLocaleString("ja-JP")}},ft=ht,vt=(n("68f2"),Object(h["a"])(ft,lt,dt,!1,null,"09421384",null)),mt=vt.exports,pt={name:"history",props:{user:String},components:{HistoryCard:mt},data:function(){return{histories:{}}},mounted:function(){var t=this;B.a.get("https://beer.rhenium.jp/users/".concat(this.user,"/")).then((function(e){t.histories=e.data.history}))}},bt=pt,gt=(n("a9ef"),Object(h["a"])(bt,ct,ut,!1,null,"266ebd58",null)),_t=gt.exports;a["a"].use(P["a"]);var wt=new P["a"]({mode:"history",routes:[{path:"/",name:"home",component:st},{path:"/scan",name:"scan",component:K},{path:"/history",name:"history",component:_t}]});a["a"].config.productionTip=!1,new a["a"]({router:wt,render:function(t){return t(S)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("e332"),i=n.n(a);i.a},"68f2":function(t,e,n){"use strict";var a=n("f84f"),i=n.n(a);i.a},"71f4":function(t,e,n){"use strict";var a=n("db66"),i=n.n(a);i.a},8806:function(t,e,n){},"92e4":function(t,e,n){},a9ef:function(t,e,n){"use strict";var a=n("8806"),i=n.n(a);i.a},d16d:function(t,e,n){"use strict";var a=n("e7bd"),i=n.n(a);i.a},d4fd:function(t,e,n){"use strict";var a=n("4462"),i=n.n(a);i.a},db66:function(t,e,n){},e332:function(t,e,n){},e7bd:function(t,e,n){},f84f:function(t,e,n){}});
//# sourceMappingURL=app.3d0193ea.js.map